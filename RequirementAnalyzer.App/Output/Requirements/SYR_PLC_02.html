<a href='D:\Code_Projects\RequirementAnalyzer\RequirementAnalyzer.App\Output\Index.html'>Home</a><h1>SYR_PLC_02</h1></br><li>1.1.30.2 SYR_PLC_02: provide prepare hardware for PLC interface </br></li><li>1.1.30.2.1 Description</br></li><li>1.1.30.2.1.0-1 Brief description: 
CCU should have PLC hardware to communicate with EVSE. Charging Protocol like COMBO (DIN70121 and ISO15118) will be communicated via this interface. 

PLC chipset will require firmware and PIB(Parameter in Block) file to intitialise. This should be provided either by HOST(CCU digital Controller) or external Flash connected to PLC chipset. 

 
Figure shows hardware setup for PLC interface.
QCA Circuit configuration:
SPI Interface is used for communicating with QCA chip. GPIO [0-4] are used for controlling Booting Mode of QCA. Digital controller of CCU is configured as SPI Master and should be connected to QCA SPI slave interface (ref. datasheet). The external flash to QCA chip should be connected to Master SPI of QCA Chip (pin nos. can be ref. from datasheet). 

default operation:
download firmware in qca via host.

normal operation:
download firmware in qca via external flash
</br></li><li>1.1.30.2.1.0-2 Preconditions: 
qca circuit shall be powered up </br></li><li>1.1.30.2.1.0-3 Trigger: BMW SW request for PLC physical link. </br></li><li>1.1.30.2.1.0-4 Input data: Firmware and PIB files </br></li><li>1.1.30.2.1.0-5 Description of behaviour:
1. PLC Driver layer is initialised.
2. SPI commuincation is established.
4. Change the GPIO[0]...[4] setting to boot from host and download PLC firmware and PIB file.
5. After the download is completed, reboot PLC chip with GPIO configured to boot via External NVM and then reboot the PLC chip. 
6. inquire PLC chip with latest firmware version. The Firmware version should be similar to firmware downloaded.</br></li><li>1.1.30.2.1.0-6 Timing Requirements: ISO15118-3 Timing requirements shall be fulfilled by CCU</br></li><li>1.1.30.2.1.0-7 Output data: When CCU send MME Ethertype frame to request firmware version to internal PLC chip, than PLCchip should response with firmware version over MME Frame.</br></li><li>1.1.30.2.1.0-8 Postconditions: QCA Chip Firwmware is updated and it should work in configuration booting from external Flash mode.</br></li><li>1.1.30.2.1.0-9 Descriptions of exceptions:
- procedure fail, PLC chip will not be able to start without firmware.
- no data communication in possible with EVSE</br></li><li>1.1.30.2.1.0-10 Dependencies and interactions:</br></li><li>1.1.30.2.2 Differences to CRS</br></li><li>1.1.30.2.2.0-1 CRS has only requested to implement ISO15118-3 Req. Details for PLC circuit design consideration is not available.
CODICO supplier has provided some documents for PLC design consideration for Qualcomm Chipset which could be used to provide robust design.
https://downloads.codico.com/misc/customer/Panasonic_H4Y19N5FZB8XD358IT77S4J3ZEO433FQ 
Access is password protected, please use username / password: customer / JLpjxS3W
</br></li><li>1.1.30.2.3 Questions and Answers</br></li><li>1.1.30.2.3.0-1 NA</br></li>