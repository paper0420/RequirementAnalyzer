<a href='D:\Code_Projects\RequirementAnalyzer\RequirementAnalyzer.App\Output\Index.html'>Home</a><h1>SYR_HMG67</h1></br><li>3.1.11 SYR_HMG67:AKKS - Stop Test Open</br></li><li>3.1.11.1 Description</br></li><li>3.1.11.1.0-1 Brief description:  the CCU has to be able to execute a special test which is used for the learning of the high stop of the flap, i.e. the flap position at which the active grill will be completely opened. 
This test will be part of the initialization procedure of the AKKS, i.e. it will be executed at the beginning of each driving cycle (more in detail after the successful execution of the Stop-Test Closed and when the vehicle speed is in the range [20,90]km\h)</br></li><li>3.1.11.1.0-2 Preconditions: LIN Wake-Up, INIT procedure successfully executed, Stop-Test Closed successfully executed</br></li><li>3.1.11.1.0-3 Trigger: successful end of the Stop-Test Closed, vehicle speed value is in the range [20,90]km\h</br></li><li>3.1.11.1.0-4 Input data: 
LIN-Signals: (the LIN-signals here below are only from AKKS1, for the AKKS2 consider the corresponding ones)
- current position of the AKKS (SMOT_PO_AVL_AKKS_LIN);
- blockage detection bit (ST_BLK_AKKS_LIN);

CAN-Signals: V_VEH_COG (vehicle speed)             </br></li><li>3.1.11.1.0-5 Description of behaviour: As soon as the preconditions are fulfilled AND the vehicle speed overcomes the value 20km\h:
1. the flap will be moved to an applicable high position ----> currently it has been agreed SMOT_PO_AKKS_LIN=15000;
2. as soon as the AKKS will detect a blockade of the flap (ST_BLK_AKKS_LIN=1), then the CCU will set the AKKS in Stop-Mode (CTR_SMOT_MOD_AKKS_LIN=2) 
3. it will be checked that the current position is 11380, in order to check that the detected blockade is not an early blockade;
4. after the check at the step 3. has been successfully executed, the AKKS will be reset back to Normal Mode (CTR_SMOT_MOD_AKKS_LIN=0)
5. after the correct execution of the step 4., the flap will be moved 50 LIN-Steps less, i.e. to the target position 11330 in order to not have an excessive mechanical tension at the high limit</br></li><li>3.1.11.1.0-6 Timing Requirements: Referring to the section "Description of behaviour":
- Step 2. : as soon the blockade has been detected, the CCU has to immediately set the AKKS in Stop-Mode , i.e. starting from the next LIN-Cycle, in order to not have mechanical tension on the flap ----> after 400ms (strict constraint);
There are no other strict timing requirements for the Stop-Test Open.</br></li><li>3.1.11.1.0-7 Output data: the relevant output data sent by the CCU are the following LIN-Signals:
- SMOT_PO_AKKS_LIN
- TURN_V_AKKS_LIN (fixed to 3 during the Stop-Test Open, i.e. HighSpeed/InitTorque)
- CTR_SMOT_MOD_AKKS_LIN
- SMOT_TORQ_AKKS_LIN (fixed to 1 during the Stop-Test Open, i.e. 75% Torque)
- SMOT_PO_COOV_AKKS_LIN</br></li><li>3.1.11.1.0-8 Postconditions: 
- SMOT_PO_AKKS_LIN=ST_SMOT_AVL_PO_AKKS_LIN==11330;
- SMOT_PO_COOV_AKKS_LIN=0;
- CTR_SMOT_MOD_AKKS_LIN=0;</br></li><li>3.1.11.1.0-9 Descriptions of exceptions:
- if the blockade has been not detected during the Stop-Test Open, the  DTC "DFC_RadShtPostOpnTop/Botm" for AKKS1\2 has to be set (ID still TBD by BMW);
- if the vehicle speed overcomes 90km\h OR falls under 20km\h during the execution of the Stop-Test Open, the Stop-Test has to be nevertheless executed until the end;
- if an early blockade has been detected (i.e. when ST_BLK_AKKS_LIN=0x01 AND SMOT_PO_AVL_AKKS_LIN != 11380) then a blockade reaction procedure will be started (see 'SYR_HMG73: AKKS - Blockade reaction').

AKKS1 is not mounted for SP21 car lines.</br></li><li>3.1.11.1.0-10 Dependencies and interactions:
main dependency is on the AKKS and on its mechanical interface, i.e. on the possibility of having unexpected blockades</br></li><li>3.1.11.2 Differences to CRS</br></li><li>3.1.11.2.0-1 xxx</br></li><li>3.1.11.3 Questions and Answers</br></li><li>3.1.11.3.0-1 xxx</br></li>